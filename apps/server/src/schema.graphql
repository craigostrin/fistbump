scalar Date

type Query {
  hello: String
  getUsers: [User]
  getUser(id: String): User
  getReport(targetId: String!, cycleId: String!): Report
  getUserByEmail(email: String, password: String): User
  getCurrentCycle: Cycle
  getUserByName(fullName:String): User
  getAssignedReviews(cycleId: String, reviewerId: String): [Report]
}

type Mutation {
  createUser(input: UserInput): User
  updateUser(input: UserInput): User
  updateReport(targetId: String!, cycleId: String!, input: ReportInput): Report
  signup(email: String!, hashedPw: String): String
  updateAssignedReview(targetId: String!, input: ReviewInput!): Report
  updatePeerReview(targetId: String!, cycleId: String!, input: PeerUpdateInput!) : Report

}

input UserInput {
  email: String! 
  fullName: String
  hashedPw: String
  title: String
  isAdmin: Boolean
  photo: String
  teamName: String
  companyName: String
}

input ReportInput {
  _id: ReportIdInput
  summary: String
  status: String
  reviews: ReviewsInput
}

input PeerUpdateInput {
  newReviewerId: String!
}

input ReviewsInput {
  self: ReviewInput
  peers: [ReviewInput]
  manager: ReviewInput
}

input ReviewInput {
  reviewerId: String!
  isDeclined: Boolean
  submitted: Boolean
  grades: [GradeInput]
}

input GradeInput {
  metric: String
  rating: Int
  maxRating: Int
  comment: String
}

input ReportIdInput {
  targetId: String
  cycleId: String
}

type User {
  _id: String
  email: String
  fullName: String
  hashedPw: String
  title: String
  isAdmin: Boolean
  photo: String
  teamName: String
  companyName: String
}

type ReportID {
  targetId: String
  cycleId: String
}

type Report {
  _id: ReportID
  summary: String
  status: String
  reviews: Reviews
}

type Reviews {
  self: Review
  peers: [Review]
  manager: Review
}

type Review {
  reviewerId: String
  isDeclined: Boolean
  submitted: Boolean
  grades: [Grade]
  _id: String
}

type Grade {
  metric: String
  rating: Int
  maxRating: Int
  comment: String
}

type Cycle {
  title: String
  startDate: Date
  endDate: Date
  peersPerTarget: Int
  nominationDeadline: Date
  reviewDeadline: Date
  reportDeadline: Date
}
